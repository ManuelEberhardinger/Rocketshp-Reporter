<div id='data-block'>
  <h1 class="ga-pdf-cover">Google Analytics</h1>

  <p style='page-break-after:always;'></p>

  <h3>Page Views:
    <%= @page_views.totals_for_all_results.values.first %></h3>
  <%= area_chart format_data_to_display(@page_views.rows), discrete: true %>
  <%= @description_page_views %>

  <h3>Sessions:
    <%= @sessions.totals_for_all_results.values.first %></h3>
  <%= area_chart format_data_to_display(@sessions.rows), discrete: true %>
  <%= @description_sessions %>

  <p style='page-break-after:always;'></p>

  <h3>New and Returning Visitors</h3>
  <%= pie_chart @new_returning_visitors.rows.to_h, library: show_pie_chart_value %>
  <%= @description_new_returning_visitors %>

  <h3>Users:
    <%= @users.totals_for_all_results.values.first %></h3>
  <%= area_chart format_data_to_display(@users.rows), discrete: true %>
  <%= @description_users %>

  <p style='page-break-after:always;'></p>

  <h3>Pages / Session:
    <%= '%.2f' % @page_views_per_session.totals_for_all_results.values.first %></h3>
  <%= area_chart round_values(format_data_to_display(@page_views_per_session.rows)), discrete: true %>
  <%= @description_pages_per_session %>

  <h3>Avg. Session Duration:
    <%= '%.2f' % @avg_session_duration.totals_for_all_results.values.first %></h3>
  <%= area_chart round_values(format_data_to_display(@avg_session_duration.rows)), discrete: true %>
  <%= @description_avg_session_duration %>

  <p style='page-break-after:always;'></p>

  <h3>Bounce Rate:
    <%= '%.2f' % @bounce_rate.totals_for_all_results.values.first %></h3>
  <%= area_chart round_values(format_data_to_display(@bounce_rate.rows)), discrete: true %>
  <%= @description_bounce_rate %>

  <h3>% New Sessions:
    <%= '%.2f' % @percent_new_sessions.totals_for_all_results.values.first %></h3>
  <%= area_chart round_values(format_data_to_display(@percent_new_sessions.rows)), discrete: true %>
  <%= @description_percent_new_sessions %>

  <p style='page-break-after:always;'></p>

  <h3>Device Category</h3>
  <%= pie_chart @device_category.rows.to_h %>
  <%= @description_device_category %>

  <h3>Mobile Operating System</h3>
  <%= pie_chart @mobile_os.rows.to_h, library: show_pie_chart_value %>
  <%= @description_mobile_os %>

  <p style='page-break-after:always;'></p>

  <h3>Browsers</h3>
  <%= pie_chart @browser_sessions.rows.to_h, library: show_pie_chart_value %>
  <%= @description_browser_sessions %>

  <h3>Avg. Page Load Time:
    <%= '%.2f' % @avg_page_load_time.totals_for_all_results.values.first %></h3>
  <%= area_chart round_values(format_data_to_display(@avg_page_load_time.rows)), discrete: true %>
  <%= @description_avg_page_load_time %>

  <p style='page-break-after:always;'></p>

  <h3>Channels</h3>
  <table class="table table-striped table-condensed">
    <col width="80%">
    <col width="20%">
    <tr>
      <th>Default Channel Grouping</th>
      <th>Sessions</th>
    </tr>
    <% @channel_grouping.rows.to_h.each do |key, value| %>
    <tr>
      <td><%= key %></td>
      <td><%= value %></td>
    </tr>
    <% end %>
  </table>
  <%= @description_channel_grouping %>

  <h3>Best 10 Source / Medium</h3>
  <table class="table table-striped table-condensed">
    <col width="80%">
    <col width="20%">
    <tr>
      <th>Source / Medium</th>
      <th>Sessions</th>
    </tr>
    <% @source_medium.rows.to_h.first(10).each do |key, value| %>
    <tr>
      <td><%= key %></td>
      <td><%= value %></td>
    </tr>
    <% end %>
  </table>
  <%= @description_source_medium %>

  <p style='page-break-after:always;'></p>

  <h3>Best 10 Landing Pages</h3>
  <table class="table table-striped table-condensed">
    <col width="80%">
    <col width="20%">
    <tr>
      <th>Landing Page</th>
      <th>Sessions</th>
    </tr>
    <% @landing_pages.rows.to_h.first(10).each do |key, value| %>
    <tr>
      <td><%= key %></td>
      <td><%= value %></td>
    </tr>
    <% end %>
  </table>
  <%= @description_landing_pages %>

  <h3>Social Networks</h3>
  <table class="table table-striped table-condensed">
    <col width="80%">
    <col width="20%">
    <tr>
      <th>Social Network</th>
      <th>Sessions</th>
    </tr>
    <% @social_networks.rows.to_h.each do |key, value| %>
    <tr>
      <td><%= key %></td>
      <td><%= value %></td>
    </tr>
    <% end %>
  </table>
  <%= @description_social_networks %>

</div>
